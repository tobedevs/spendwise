<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Budget Tracker - Homepage</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css">
  <script src="main.js" defer></script>
</head>
<body>
    <div class="home-container-info">
        <div class="home-info">
          <div class="home-image-info">
            <div class="profile-container">  
                <div class="profile-container-image">
                 <img id="profilePic" class="profile-avatar">
               </div>
               <label for="fileInput" class="upload-btn">Upload Picture</label>
               <input type="file" accept="image/*" id="fileInput" capture="user">  
            </div>
            <div class="profile-container-text">          
              <h1 class="profile-text"></h1>
              <p>We miss you</p>              
            </div>  
          </div>
           
        </div>
        <button class="notification"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M192-216v-72h48v-240q0-87 53.5-153T432-763v-53q0-20 14-34t34-14q20 0 34 14t14 34v53q85 16 138.5 82T720-528v240h48v72H192Zm288-276Zm-.21 396Q450-96 429-117.15T408-168h144q0 30-21.21 51t-51 21ZM312-288h336v-240q0-70-49-119t-119-49q-70 0-119 49t-49 119v240Z"/></svg></button>
    </div>
    <p class="notification-note">There is no notification currently</p>
    <div class="budget-container">
  <div class="budget-container">
  <div class="budget-header">
    <h2>My Budget</h2>
    <p class="budget-Rem">₦0.00</p>
    <div class="budget-actions">
      <button class="add-income budget-btn"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M480-336 288-528l51-51 105 105v-342h72v342l105-105 51 51-192 192ZM263.72-192Q234-192 213-213.15T192-264v-72h72v72h432v-72h72v72q0 29.7-21.16 50.85Q725.68-192 695.96-192H263.72Z"/></svg>  Add Income</button>
      <button class="add-spending budget-btn"><a href="Plan.html"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="m243-240-51-51 405-405H384v-72h336v336h-72v-213L243-240Z"/></svg>  Add Spending</a></button>
    </div>
    <div class="stats">
      <div class="stat"><span class="s-income"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M446-216h67v-47q49-8 81-42t32-79q0-45-27.5-77T514-514q-61-22-80.5-37.5T414-592q0-20 17.5-33t45.5-13q28 0 49 13.5t28 36.5l59-25q-12-33-38.5-55.5T513-697v-47h-66v48q-45 10-72 38.5T348-591q0 45 30.5 76.5T475-460q45 16 65.5 34t20.5 42q0 26-21 43.5T488-323q-33 0-58.5-22T395-402l-62 26q12 42 42 71.5t71 40.5v48Zm34 120q-79 0-149-30t-122.5-82.5Q156-261 126-331T96-480q0-80 30-149.5t82.5-122Q261-804 331-834t149-30q80 0 149.5 30t122 82.5Q804-699 834-629.5T864-480q0 79-30 149t-82.5 122.5Q699-156 629.5-126T480-96Zm0-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"/></svg> Income</span> <span class="total-income">₦0.00</span></div>
      <div class="stat"><span class="s-income"><svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px"><path d="M263.72-96Q234-96 213-117.15T192-168v-456q0-29.7 21.15-50.85Q234.3-696 264-696h72v-16q0-60 40.5-106T480-864q60 0 102 42t42 102v24h72q29.7 0 50.85 21.15Q768-653.7 768-624v456q0 29.7-21.16 50.85Q725.68-96 695.96-96H263.72Zm.28-72h432v-456h-72v60q0 15.3-10.29 25.65Q603.42-528 588.21-528t-25.71-10.35Q552-548.7 552-564v-60H408v60q0 15.3-10.29 25.65Q387.42-528 372.21-528t-25.71-10.35Q336-548.7 336-564v-60h-72v456Zm144-528h144v-24q0-29.7-21.21-50.85-21.21-21.15-51-21.15T429-770.85Q408-749.7 408-720v24ZM264-168v-456 456Z"/></svg>  Spending</span> <span class="spending-total">₦0.00</span></div>
    </div>
  </div>
  <div class="plan-section">
    <div class="plan-head">
     <h3>My Plan</h3>
     <button id="delete-btn">Delete list</button>
    </div>
    <ul class="plans-item"></ul>  
     <p class="empty-item">You Do Not Have Any Active Plan...</p>
    </div>
    <div class="navigation-bar">
        <ul>
            <li class="navigation">
              <a href="home.html" class="links active">
                <div class="navigation-li">
                  <svg class="icon active" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor" class="icon active"><path d="M192-144v-362l-64 50-44-58 396-302 168 128v-80h120v172l108 82-44 58-64-50v362H528v-240h-96v240H192Zm72-72h96v-240h240v240h96v-345L480-725 264-561v345Zm144-336h144q0-30-21-51t-51-21q-30 0-51 21t-21 51Zm-48 336v-240h240v240-240H360v240Z"/></svg>
                  <p>Home</p>
                </div>
              </a>
            </li>
            <li class="navigation">
              <a href="Plan.html" class="links">
                <div class="navigation-li">
                  <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor" class="icon"><path d="M216-96q-29.7 0-50.85-21.15Q144-138.3 144-168v-528q0-29 21.5-50.5T216-768h72v-96h72v96h240v-96h72v96h72q29 0 50.5 21.5T816-696v216h-72v-48H216v360h288v72H216Zm0-504h528v-96H216v96Zm0 0v-96 96ZM576-96v-113l210-209q7.26-7.41 16.13-10.71Q811-432 819.76-432q9.55 0 18.31 3.5Q846.83-425 854-418l44 45q6.59 7.26 10.29 16.13Q912-348 912-339.24t-3.29 17.92q-3.3 9.15-10.71 16.32L689-96H576Zm288-243-45-45 45 45ZM624-144h45l115-115-22-23-22-22-116 115v45Zm138-138-22-22 44 45-22-23Z"/></svg>
                  <p>Create Plan</p>
                </div>
              </a>
            </li>
            <li class="navigation">
                <a href="setting.html" class="links">
                  <div class="navigation-li">
                      <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor" class="icon"><path d="m403-96-22-114q-23-9-44.5-21T296-259l-110 37-77-133 87-76q-2-12-3-24t-1-25q0-13 1-25t3-24l-87-76 77-133 110 37q19-16 40.5-28t44.5-21l22-114h154l22 114q23 9 44.5 21t40.5 28l110-37 77 133-87 76q2 12 3 24t1 25q0 13-1 25t-3 24l87 76-77 133-110-37q-19 16-40.5 28T579-210L557-96H403Zm59-72h36l19-99q38-7 71-26t57-48l96 32 18-30-76-67q6-17 9.5-35.5T696-480q0-20-3.5-38.5T683-554l76-67-18-30-96 32q-24-29-57-48t-71-26l-19-99h-36l-19 99q-38 7-71 26t-57 48l-96-32-18 30 76 67q-6 17-9.5 35.5T264-480q0 20 3.5 38.5T277-406l-76 67 18 30 96-32q24 29 57 48t71 26l19 99Zm18-168q60 0 102-42t42-102q0-60-42-102t-102-42q-60 0-102 42t-42 102q0 60 42 102t102 42Zm0-144Z"/></svg>
                      <p>Setting</p>
                  </div>
                </a>
            </li>
            <li class="navigation">
                <a href="overview.html" class="links">
                <div class="navigation-li">
                  <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor" class="icon"><path d="M480-480q-60 0-102-42t-42-102q0-60 42-102t102-42q60 0 102 42t42 102q0 60-42 102t-102 42ZM192-192v-96q0-23 12.5-43.5T239-366q55-32 116.29-49 61.29-17 124.5-17t124.71 17Q666-398 721-366q22 13 34.5 34t12.5 44v96H192Zm72-72h432v-24q0-5.18-3.03-9.41-3.02-4.24-7.97-6.59-46-28-98-42t-107-14q-55 0-107 14t-98 42q-5 4-8 7.72-3 3.73-3 8.28v24Zm216.21-288Q510-552 531-573.21t21-51Q552-654 530.79-675t-51-21Q450-696 429-674.79t-21 51Q408-594 429.21-573t51 21Zm-.21-72Zm0 360Z"/></svg>
                  <p>Overview</p>
                </div>
                </a>
            </li>
        </ul>
      </div>

  </div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const currentPage = window.location.pathname.split("/").pop();
    const navLinks = document.querySelectorAll(".navigation");

    navLinks.forEach(item => {
      const link = item.querySelector("a");
      const href = link?.getAttribute("href");

      if (href === currentPage || (currentPage === "" && href === "index.html") || (currentPage === "home.html" && href === "home.html")) {
        item.classList.add("active");
        link.classList.add("active");
        item.querySelector(".icon")?.classList.add("active");
      }
    });

    const plans = JSON.parse(localStorage.getItem("plans")) || [];
    const planList = document.querySelector(".plans-item");
    const emptyMsg = document.querySelector(".empty-item");
    const spendingTotal = document.querySelector(".spending-total"); 
    const incomeDisplay = document.querySelector(".s-income span"); 
    const budgetDisplay = document.querySelector(".budget-header p"); 
    const deleteBtn = document.getElementById('delete-btn');

    // Load income from storage
    const income = Number(localStorage.getItem("income")) || 0;
    if (incomeDisplay) incomeDisplay.textContent = `₦${income.toLocaleString()}`;

    let totalSpending = 0;

    if (plans.length > 0) {
      emptyMsg.style.display = "none";

      plans.forEach((plan) => {
        const li = document.createElement("li");
        li.className = "plan-item";
        li.innerHTML = `<strong>${plan.name}</strong><br/>₦${Number(plan.amount).toLocaleString()}`;
        planList.appendChild(li);

        totalSpending += Number(plan.amount);
      });

      if (spendingTotal) spendingTotal.textContent = `₦${totalSpending.toLocaleString()}`;
    }

    // Calculate Remaining Budget
    const remaining = income - totalSpending;
    if (budgetDisplay) {
      budgetDisplay.textContent = `₦${remaining.toLocaleString()}`;
      if (totalSpending > income) {
       const dpText = prompt("You have exceeded your income. Do you still want to proceed?");
       budgetDisplay.style.color = "red"
      }
    }

    // Delete all plans
    if (deleteBtn) {
      deleteBtn.addEventListener('click', (e) => {
        e.preventDefault();
        localStorage.removeItem('plans');
        planList.innerHTML = "";
        emptyMsg.style.display = "block";
        if (spendingTotal) spendingTotal.textContent = "₦0.00";

        // Reset remaining budget
        if (budgetDisplay) budgetDisplay.textContent = `₦${income.toLocaleString()}`;
      });
    }
  });
</script>




</body>